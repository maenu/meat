<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		
		<title>Meat</title>
		
		<style>
			html, body, #compiled {
				width: 100%;
				height: 100%;
			}
		</style>
		
		<script type="text/javascript" src="lib/js/peg-0.7.0.min.js"></script>
		<script type="text/javascript" src="lib/js/jquery-1.7.1.min.js"></script>
		<script type="text/javascript" src="src/main/js/Class.js"></script>
		<script type="text/javascript" src="src/main/js/meat/model.js"></script>
		<script type="text/javascript" src="src/main/js/meat/ast.js"></script>
		<script type="text/javascript" src="src/main/js/meat/compiler.js"></script>
		
		<script type="text/javascript">
			$(document).ready(function() {
				var grammar = $.ajax('src/main/pegjs/meat.pegjs', {
					async: false
				}).responseText;
				var example = $.ajax('src/main/meat/Boolean.meat', {
					async: false
				}).responseText;
				var parser = PEG.buildParser(grammar);
				var ast = parser.parse(example);
				var compiler = new meat.compiler.Compiler();
				var compiled = compiler.compile(ast);
				console.log(ast);
				$('#compiled').text(compiled);
			});
		</script>
		
	</head>
	
	<body>
		<textarea id="compiled"></textarea>
	</body>
	
</html>
